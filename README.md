# Bili-Cortex

ğŸ¥ Bilibili è§†é¢‘éŸ³é¢‘æå–ä¸è½¬å½•ç³»ç»Ÿ

å°† Bç«™è§†é¢‘è‡ªåŠ¨è½¬æ¢ä¸ºé«˜è´¨é‡çš„ä¸­æ–‡è½¬å½•æ–‡æœ¬ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†å’Œæ—¶é—´æˆ³æ ‡æ³¨ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®åï¼Œè¿è¡Œä¸€é”®è®¾ç½®è„šæœ¬
./setup.sh
```

### 2. åŸºæœ¬ä½¿ç”¨

```bash
# è½¬å½•å•ä¸ªè§†é¢‘
./bili-cortex.sh https://www.bilibili.com/video/BV1234567890

# è½¬å½•å¤šä¸ªè§†é¢‘
./bili-cortex.sh url1 url2 url3

# ä»æ–‡ä»¶æ‰¹é‡è½¬å½•
./bili-cortex.sh --from-file urls.txt
```

### 3. æ–‡ä»¶æ ¼å¼

åˆ›å»º `urls.txt` æ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ª URLï¼š
```
https://www.bilibili.com/video/BV1234567890
https://www.bilibili.com/video/BV1234567891
# è¿™æ˜¯æ³¨é‡Šè¡Œï¼Œä¼šè¢«å¿½ç•¥
https://b23.tv/abc123
```

## å‘½ä»¤é€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `--from-file, -f` | ä»æ–‡ä»¶è¯»å– URL åˆ—è¡¨ | `-f urls.txt` |
| `--no-save` | ä¸ä¿å­˜è½¬å½•æ–‡ä»¶ | `--no-save` |
| `--log-level` | è®¾ç½®æ—¥å¿—çº§åˆ« | `--log-level DEBUG` |
| `--info` | æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯ | `--info` |
| `--help, -h` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | `--help` |

## è¯­è¨€è®¾ç½®

### æ”¯æŒçš„è¯­è¨€æ ¼å¼
- `zh-CN`: ç®€ä½“ä¸­æ–‡ï¼ˆè‡ªåŠ¨è½¬æ¢ä¸ºç®€ä½“ï¼‰
- `zh-TW`: ç¹ä½“ä¸­æ–‡ï¼ˆè‡ªåŠ¨è½¬æ¢ä¸ºç¹ä½“ï¼‰
- `zh`: ç®€ä½“ä¸­æ–‡ï¼ˆé»˜è®¤ï¼‰
- `en`: è‹±è¯­
- `ja`: æ—¥è¯­
- `ko`: éŸ©è¯­

### è®¾ç½®ç®€ä½“ä¸­æ–‡ï¼ˆæ¨èï¼‰
```bash
# æ–¹æ³•1: ç¯å¢ƒå˜é‡
export WHISPER_LANGUAGE="zh-CN"
./bili-cortex.sh <url>

# æ–¹æ³•2: é…ç½®æ–‡ä»¶
cp config_example.yaml config.yaml
# ç¼–è¾‘ config.yaml ä¸­çš„ language è®¾ç½®ä¸º 'zh-CN'
```

### è®¾ç½®ç¹ä½“ä¸­æ–‡
```bash
# ç¯å¢ƒå˜é‡
export WHISPER_LANGUAGE="zh-TW" 
./bili-cortex.sh <url>

# é…ç½®æ–‡ä»¶ï¼šlanguage: 'zh-TW'
```

### æ³¨æ„
- ç³»ç»Ÿä¼šæ ¹æ®è¯­è¨€è®¾ç½®è‡ªåŠ¨è¿›è¡Œç¹ç®€è½¬æ¢
- æ— éœ€æ‰‹åŠ¨åå¤„ç†ï¼Œè½¬å½•ç»“æœå·²ç»æ˜¯ç›®æ ‡æ ¼å¼

## è¾“å‡ºæ–‡ä»¶

è½¬å½•ç»“æœä¿å­˜åœ¨ `data/transcripts/` ç›®å½•ä¸‹ï¼š

```
data/transcripts/transcript_20250901_143022_a1b2c3d4.md
```

æ–‡ä»¶åŒ…å«ï¼š
- å®Œæ•´è½¬å½•æ–‡æœ¬
- å¸¦æ—¶é—´æˆ³çš„åˆ†æ®µå†…å®¹
- å¤„ç†æ—¶é—´å’Œæ¥æºä¿¡æ¯

## æ”¯æŒå¹³å°

- âœ… bilibili.com
- âœ… www.bilibili.com  
- âœ… b23.tv
- âœ… m.bilibili.com

## ç³»ç»Ÿè¦æ±‚

- Python 3.8+
- 2GB+ å¯ç”¨å†…å­˜
- ç½‘ç»œè¿æ¥

## æ‰‹åŠ¨è¿è¡Œ

å¦‚æœä¸ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼š

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# è¿è¡Œç¨‹åº
PYTHONPATH="$(pwd)" python src/main.py <é€‰é¡¹>
```

## æ•…éšœæ’é™¤

**ç¯å¢ƒé—®é¢˜**ï¼š
```bash
# é‡æ–°è®¾ç½®ç¯å¢ƒ
rm -rf .venv
./setup.sh
```

**æƒé™é—®é¢˜**ï¼š
```bash
chmod +x setup.sh bili-cortex.sh
```

**ä¾èµ–é—®é¢˜**ï¼š
```bash
source .venv/bin/activate
pip install -r requirements.txt
```

**æµ‹è¯•å®‰è£…**ï¼š
```bash
./bili-cortex.sh --info
```

## æ³¨æ„äº‹é¡¹

- é¦–æ¬¡è¿è¡Œä¼šä¸‹è½½ Whisper æ¨¡å‹ï¼ˆçº¦ 3GBï¼‰
- GPU æ”¯æŒä¼šè‡ªåŠ¨æ£€æµ‹ï¼ŒCPU æ¨¡å¼ä½œä¸ºåå¤‡
- è½¬å½•å‡†ç¡®ç‡é€šå¸¸è¾¾åˆ° 90%+ 
- æ”¯æŒä¸­æ–‡è¯­éŸ³ä¼˜åŒ–

---

ğŸš€ **å¼€å§‹ä½¿ç”¨**: `./bili-cortex.sh <bilibili_url>`